<%- include('../_layouts/sp_header') %>
<section class="category light-section">
    <h2 class="font-bold text-lg mb-4 px-4">Our <%= user.company_name %> Riders</h2>
    <div class="px-4">
        <button type="button"
            class="add-category btn-primary text-white focus:outline-none font-bold py-2 px-5 rounded"><a
                href="/service_provider/add_rider"><i class="las la-user-plus"></i> Add rider</a></button>
    </div>
    <% if (messages.success) { %>
    <span class="text-green-500 text-sm"><%= messages.success %> </span>
    <% } %>
    <% if (messages.error) { %>
    <span class="text-red-500 text-sm"><%= messages.error %> </span>
    <% } %>
    <div class="container mx-auto pt-12 flex justify-center">
        <table class="w-1/2 table-auto bg-white">
            <thead>
                <tr class="bg-gray-100">
                    <th class="border px-4 py-2 text-left w-1/3"><%= user.company_name %> Riders</th>
                    <th class="border px-4 py-2 text-left w-1/12">Edit </th>
                    <th class="border px-4 py-2 text-left w-1/12">Delete </th>
                </tr>
            </thead>
            <tbody>
                <% riders.forEach(function(rider){ %>
                <tr>
                    <td class="border px-4 py-2 text-left text-green-500"><%= rider.name %></td>
                    <td class="border px-4 py-2 text-center">
                            <button type="button" class="editCategory bg-blue-500 hover:bg-blue-700 text-white block font-bold py-2 px-5
                                rounded"><i class="las la-edit"></i><a
                                    href="/service_provider/edit_rider/<%= rider._id %>"> Edit</a></button>
                    </td>
                    <td class="border px-4 py-2 text-left"><button type="button" id="deleteRider" class="deleteRider bg-red-500 hover:bg-red-700 text-white block font-bold py-2 px-5
                                rounded" data-delete="<%= JSON.stringify(rider) %>"><i class="las la-trash"></i>
                            Delete
                        </button></td>
                </tr>
                <% }); %>
            </tbody>
        </table>
         <% if (riderAdded) { %>
        <script>
            Swal.fire({
                timer: 1500,
                showConfirmButton: false,
                title: 'Rider Created',
                text: 'A new rider user has been added!',
                type: 'success',
                icon: 'success'
            })
        </script>

        <% } %>
    </div>
</section>
</body>

</html>